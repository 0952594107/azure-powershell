<?xml version="1.0" encoding="utf-8"?>
<helpItems xmlns="http://msh" schema="maml">
  <command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
    <command:details>
      <command:name>Get-UsageAggregation</command:name>
      <maml:description>
        <maml:para>Enables you to query aggregate Azure subscription consumption data by.</maml:para>
      </maml:description>
      <maml:copyright>
        <maml:para />
      </maml:copyright>
      <command:verb>Get</command:verb>
      <command:noun>UsageAggregation</command:noun>
      <dev:version />
    </command:details>
    <maml:description>
      <maml:para>The Get-UsageAggregation cmdlet  to query aggregate Azure subscription consumption data by:
• Start and end date/time
• Aggregation granularity (ie: daily, hourly)
• Instance level detail (ie: for multiple instances of the same resource)
For more information, see <maml:navigationLink><maml:linkText>Azure Billing REST API Reference</maml:linkText><maml:uri>https://msdn.microsoft.com/library/azure/1ea5b323-54bb-423d-916f-190de96c6a3c</maml:uri></maml:navigationLink>(https://msdn.microsoft.com/library/azure/1ea5b323-54bb-423d-916f-190de96c6a3c) at the Microsoft Developer Network.</maml:para>
    </maml:description>
    <command:syntax>
      <command:syntaxItem>
        <maml:name>Get-UsageAggregation</maml:name>
        <command:parameter required="true" variableLength="true" globbing="false" pipelineInput="false" position="named" aliases="none">
          <maml:name>ReportedStartTime</maml:name>
          <maml:description>
            <maml:para>The start of the time range to retrieve data for.</maml:para>
          </maml:description>
          <command:parameterValue required="true" variableLength="True">[DateTime]</command:parameterValue>
        </command:parameter>
        <command:parameter required="true" variableLength="true" globbing="false" pipelineInput="false" position="named" aliases="none">
          <maml:name>ReportedEndTime</maml:name>
          <maml:description>
            <maml:para>The end of the time range to retrieve data for.</maml:para>
          </maml:description>
          <command:parameterValue required="true" variableLength="True">[DateTime]</command:parameterValue>
        </command:parameter>
        <command:parameter required="false" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
          <maml:name>AggregationGranularity</maml:name>
          <maml:description>
            <maml:para>Value is either daily (default) or hourly to tell the API how to return the results grouped by day or hour.</maml:para>
          </maml:description>
          <command:parameterValue required="false" variableLength="false">AggregationGranularity</command:parameterValue>
        </command:parameter>
        <command:parameter required="false" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
          <maml:name>ShowDetails</maml:name>
          <maml:description>
            <maml:para>When set to true (default), the aggregates are broken down into the instance metadata which is more granular.</maml:para>
          </maml:description>
          <command:parameterValue required="false" variableLength="false">Boolean</command:parameterValue>
        </command:parameter>
        <command:parameter required="false" variableLength="true" globbing="false" pipelineInput="false" position="named" aliases="none">
          <maml:name>ContinuationToken</maml:name>
          <maml:description>
            <maml:para>Retrieved from previous calls, this is the bookmark used for progress when the responses are paged.</maml:para>
          </maml:description>
          <command:parameterValue required="true" variableLength="true">String</command:parameterValue>
        </command:parameter>
      </command:syntaxItem>
    </command:syntax>
    <command:parameters>
      <command:parameter required="false" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>EndpointLocation</maml:name>
        <maml:description>
          <maml:para>Specifies the location of the external endpoint. Specify this parameter for profiles that have a value of Performance for the TrafficRoutingMethod parameter. </maml:para>
          <maml:para>You must specify for endpoints of the type ExternalEndpoints in a profile that has the load balancing method of Performance.</maml:para>
          <maml:para>You can find a list of possible values for this parameter by using the List Locations operation. For more information, see <maml:navigationLink><maml:linkText>List Locations</maml:linkText><maml:uri></maml:uri></maml:navigationLink> (http://msdn.microsoft.com/en-us/library/gg441293.aspx) at the Microsoft Developer Network.</maml:para>
        </maml:description>
        <command:parameterValue required="false" variableLength="false">String</command:parameterValue>
        <dev:type>
          <maml:name>String</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="true" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>EndpointName</maml:name>
        <maml:description>
          <maml:para>Specifies the name of the Traffic Manager endpoint that this cmdlet adds.</maml:para>
        </maml:description>
        <command:parameterValue required="true" variableLength="false">String</command:parameterValue>
        <dev:type>
          <maml:name>String</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="true" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>EndpointStatus</maml:name>
        <maml:description>
          <maml:para>Specifies the status of the endpoint. If the status is Enabled, the endpoint is probed for endpoint health and is included in the traffic routing method. Valid values are: 

-- Enabled
-- Disabled</maml:para>
        </maml:description>
        <command:parameterValue required="false" variableLength="false">String</command:parameterValue>
        <dev:type>
          <maml:name>String</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="false" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>Priority</maml:name>
        <maml:description>
          <maml:para>Specifies the priority that Traffic Manager assigns to the endpoint. Specify this parameter only if the Traffic Manager profile is configured for priority traffic routing. Valid values are integers from 1 through 1000. Lower values represent higher priority.</maml:para>
          <maml:para>If you specify a priority, you must specify priorities on all endpoints, and no two endpoints can share the same priority value. If you do not specify priorities, Traffic Manager assigns endpoints with default priority values, starting with one (1), in the order the profile lists the endpoints.</maml:para>
        </maml:description>
        <command:parameterValue required="false" variableLength="false">UInt32</command:parameterValue>
        <dev:type>
          <maml:name>UInt32</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="false" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>Profile</maml:name>
        <maml:description>
          <maml:para>Specifies an Azure profile.</maml:para>
        </maml:description>
        <command:parameterValue required="true" variableLength="false">AzureProfile</command:parameterValue>
        <dev:type>
          <maml:name>AzureProfile</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="true" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>Target</maml:name>
        <maml:description>
          <maml:para>Specifies the fully qualified DNS name of the endpoint. Traffic Manager returns this value in DNS responses when it directs traffic to this endpoint. </maml:para>
        </maml:description>
        <command:parameterValue required="true" variableLength="false">String</command:parameterValue>
        <dev:type>
          <maml:name>String</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByValue)" position="named" aliases="none">
        <maml:name>TrafficManagerProfile</maml:name>
        <maml:description>
          <maml:para>Specifies a local TrafficManagerProfile object. This cmdlet modifies this local object. </maml:para>
        </maml:description>
        <command:parameterValue required="true" variableLength="false">TrafficManagerProfile</command:parameterValue>
        <dev:type>
          <maml:name>TrafficManagerProfile</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="true" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>Type</maml:name>
        <maml:description>
          <maml:para>Specifies the type of endpoint that this cmdlet adds to the Azure Traffic Manager profile. Valid values are: 

-- AzureEndpoints
-- ExternalEndpoints
-- NestedEndpoints</maml:para>
          <maml:para>Azure Resource Manager is currently in Preview. The only supported type is ExternalEndpoints.</maml:para>
        </maml:description>
        <command:parameterValue required="true" variableLength="false">String</command:parameterValue>
        <dev:type>
          <maml:name>String</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
      <command:parameter required="false" variableLength="false" globbing="false" pipelineInput="false" position="named" aliases="none">
        <maml:name>Weight</maml:name>
        <maml:description>
          <maml:para>Specifies the weight that Traffic Manager assigns to the endpoint. Valid values are integers from 1 through 1000. The default value is one (1). Specify this parameter only if the Traffic Manager profile has a value of Weighted for the TrafficRoutingMethod parameter. </maml:para>
        </maml:description>
        <command:parameterValue required="false" variableLength="false">UInt32</command:parameterValue>
        <dev:type>
          <maml:name>UInt32</maml:name>
          <maml:uri />
        </dev:type>
        <dev:defaultValue>none</dev:defaultValue>
      </command:parameter>
    </command:parameters>
    <command:inputTypes>
      <command:inputType>
        <dev:type>
          <maml:name>Microsoft.Azure.Commands.Network.TrafficManagerProfile</maml:name>
          <maml:uri>
          </maml:uri>
          <maml:description>
            <maml:para />
          </maml:description>
        </dev:type>
        <maml:description>
          <maml:para>You can pipe a TrafficManagerProfile object to this cmdlet. </maml:para>
        </maml:description>
      </command:inputType>
    </command:inputTypes>
    <command:returnValues>
      <command:returnValue>
        <dev:type>
          <maml:name>Microsoft.Azure.Commands.Network.TrafficManagerProfile</maml:name>
          <maml:uri>
          </maml:uri>
          <maml:description>
            <maml:para />
          </maml:description>
        </dev:type>
        <maml:description>
          <maml:para>This cmdlet returns a modified TrafficManagerProfile object.</maml:para>
        </maml:description>
      </command:returnValue>
    </command:returnValues>
    <command:terminatingErrors />
    <command:nonTerminatingErrors />
    <command:examples>
      <command:example>
        <maml:title>Example 1: Retrieves data for subscription</maml:title>
        <maml:introduction>
          <maml:para>
          </maml:para>
        </maml:introduction>
        <dev:code>PS C:\&gt;Set-AzureSubscription -SubscriptionId $subscription
PS C:\&gt;$useAggregation = Get-UsageAggregation -ReportedStartTime "5/2/2015" -ReportedEndTime "5/5/2015"</dev:code>
        <dev:remarks>
          <maml:para>The final command retrieves the usage data for the subscription for the specificed dates of 5/2/2015 and 5/5/2015.</maml:para>
          <maml:para></maml:para>
        </dev:remarks>
        <command:commandLines>
          <command:commandLine>
            <command:commandText />
          </command:commandLine>
        </command:commandLines>
      </command:example>
    </command:examples>
  </command:command>
 </helpItems>
